{"version":3,"file":"index.js","sources":["../src/calc.js","../src/ready.js","../src/index.js"],"sourcesContent":["function max(a, b) {\n    return a > b ? a : b;\n}\n\nfunction roll(die) {\n    const rollRes = Math.round(Math.random() * die) + 1;\n\n    if (rollRes === die) {\n        return rollRes + roll(die);\n    }\n\n    return rollRes;\n}\n\nfunction d4() {\n    return roll(4);\n}\n\nfunction d6() {\n    return roll(6);\n}\n\nfunction d8() {\n    return roll(8);\n}\n\nfunction d10() {\n    return roll(10);\n}\n\nexport function d12() {\n    return roll(12);\n}\n\nfunction _4d10() {\n    let sum = 0;\n    for (let i = 0; i < 4; ++i) {\n        sum += d10();\n    }\n\n    return sum;\n}\n\nexport function rollAgainst(what, attacks, dieFn, wildCard, bonus) {\n    const successes = [];\n    for (let i = 0; i < attacks; ++i) {\n        const genericDie = dieFn();\n        const wildDie = wildCard ? d6() : 0;\n\n        const dmax = max(genericDie, wildDie) + bonus;\n\n        console.log(`rolled ${genericDie} and ${wildDie}, max was ${dmax}`);\n\n        if (dmax >= what) {\n            successes.push(dmax);\n        }\n    }\n\n    return successes;\n}\n","export default function ready(cb) {\n    if (document.readyState !== \"loading\") {\n        cb();\n    } else {\n        document.addEventListener(\"DOMContentLoaded\", cb);\n    }\n}\n","import * as calc from \"./calc.js\";\nimport ready from \"./ready.js\";\n\nready(main);\n\nfunction main() {\n    const input = document.getElementById(\"against\");\n\n    input.addEventListener(\"change\", function() {\n        const val = this.value;\n\n        console.log(calc.rollAgainst(val, 4, calc.d12, false, 0));\n    });\n}\n"],"names":["roll","die","rollRes","Math","round","random","d12","cb","document","getElementById","addEventListener","val","this","value","console","log","what","attacks","dieFn","wildCard","bonus","successes","i","genericDie","wildDie","dmax","a","b","push","calc.rollAgainst","calc.d12","readyState"],"mappings":"AAIA,SAASA,EAAKC,GACV,MAAMC,EAAUC,KAAKC,MAAMD,KAAKE,SAAWJ,GAAO,EAElD,OAAIC,IAAYD,EACLC,EAAUF,EAAKC,GAGnBC,EAmBX,SAAgBI,IACZ,OAAON,EAAK,IC/BD,IAAeO,EAAAA,ECK9B,WACkBC,SAASC,eAAe,WAEhCC,iBAAiB,UAAU,WAC7B,MAAMC,EAAMC,KAAKC,MAEjBC,QAAQC,IFgCT,SAAqBC,EAAMC,EAASC,EAAOC,EAAUC,GACxD,MAAMC,EAAY,GAClB,IAAK,IAAIC,EAAI,EAAGA,EAAIL,IAAWK,EAAG,CAC9B,MAAMC,EAAaL,IACbM,EAAUL,EA5BbnB,EAAK,GA4B0B,EAE5ByB,IAjDDC,EAiDYH,IAjDTI,EAiDqBH,GAhDlBE,EAAIC,GAgDyBP,EAExCN,QAAQC,IAAI,UAAUQ,SAAkBC,cAAoBC,KAExDA,GAAQT,GACRK,EAAUO,KAAKH,GAtD3B,IAAaC,EAAGC,EA0DZ,OAAON,EE/CSQ,CAAiBlB,EAAK,EAAGmB,GAAU,EAAO,QDV9B,YAAxBtB,SAASuB,WACTxB,IAEAC,SAASE,iBAAiB,mBAAoBH"}